<?xml version="1.0" encoding="UTF-8"?>
<testsuite failures="1" errors="0" skipped="0" tests="1" time="18.698478" name="Propagate updated assessment configurations to existing assessment responses from Admin Assessments area">
<testcase classname="Propagate updated assessment configurations to existing assessment responses from Admin Assessments area" name="A user can select an assessment with more than one version and propagate the configuration to existing responses" time="18.698478" file="/home/circleci/project/features/assessments/propagation.feature">
  <failure message="failed A user can select an assessment with more than one version and propagate the configuration to existing responses" type="failed">
    <![CDATA[Scenario: A user can select an assessment with more than one version and propagate the configuration to existing responses

Then the assessment response should be updated to link to the new version

Message:
]]>
    <![CDATA[
expected: #<Assessment id: 2, name: "Cartwright, Strosin and Braun", category: nil, created_at: "2024-01-22 09:... "effective", version_number: "2.0", previous_version_id: 1, study_id: nil, admin_reference_id: nil>
     got: #<Assessment id: 1, name: "Cartwright, Strosin and Braun", category: nil, created_at: "2024-01-22 09:...uperseded", version_number: "1.0", previous_version_id: nil, study_id: nil, admin_reference_id: nil>

(compared using ==)

Diff:[0m
[0m[0m
[0m[34m@@ -1,9 +1,9 @@
[0m[31m-#<Assessment:0x00007fecad4f2e90
[0m[31m- id: 2,
[0m[32m+#<Assessment:0x00007fec9b0312d8
[0m[32m+ id: 1,
[0m[0m  name: "Cartwright, Strosin and Braun",
[0m[0m  category: nil,
[0m[31m- created_at: Mon, 22 Jan 2024 09:57:57.025961000 UTC +00:00,
[0m[31m- updated_at: Mon, 22 Jan 2024 09:57:57.102598546 UTC +00:00,
[0m[32m+ created_at: Mon, 22 Jan 2024 09:57:56.928934000 UTC +00:00,
[0m[32m+ updated_at: Mon, 22 Jan 2024 09:57:57.081158000 UTC +00:00,
[0m[0m  assessment_category_id: 1,
[0m[0m  type: nil,
[0m[0m  monitoring_visit_type_id: nil,
[0m[34m@@ -13,9 +13,9 @@
[0m[0m  parent_id: nil,
[0m[0m  container_type: "assessment",
[0m[0m  position: nil,
[0m[31m- workflow_state: "effective",
[0m[31m- version_number: "2.0",
[0m[31m- previous_version_id: 1,
[0m[32m+ workflow_state: "superseded",
[0m[32m+ version_number: "1.0",
[0m[32m+ previous_version_id: nil,
[0m[0m  study_id: nil,
[0m[0m  admin_reference_id: nil>
[0m (RSpec::Expectations::ExpectationNotMetError)
./features/assessments/step_definitions/propagation_steps.rb:31:in `"the assessment response should be updated to link to the new version"'
./features/support/env.rb:146:in `block in <top (required)>'
./features/assessments/propagation.feature:21:in `the assessment response should be updated to link to the new version']]>
  </failure>
  <system-out>
    <![CDATA[    [0;33mHTML screenshot: /home/circleci/cucumber/screenshots/screenshot_A-user-can-select-an-assessment-with-more-than-one-version-and-propagate-the-configuration-to-existing-responses_2024-01-22-09-58-02.957.html[0m
    [0;33mImage screenshot: /home/circleci/cucumber/screenshots/screenshot_A-user-can-select-an-assessment-with-more-than-one-version-and-propagate-the-configuration-to-existing-responses_2024-01-22-09-58-02.957.png[0m
]]>
  </system-out>
  <system-err>
    <![CDATA[]]>
  </system-err>
</testcase>
</testsuite>
